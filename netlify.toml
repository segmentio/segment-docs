[build]
  # This line defines the command that is run during production builds
  # It first updated the Algolia index through the Algolia plugin for Jekyll
  # then runs the standard build command. See package.json for more details 
  # about the available build targets (develop, develop-inc, build)
  command = "jekyll algolia && yarn build"

[context.deploy-preview]
  command = "yarn develop"
  ignore = "./scripts/ignore.sh"

[context.branch-deploy]
  command = "yarn build"
#  ignore = "./scripts/ignore.sh"

[context.develop]
  command = "yarn develop"

[[redirects]]
  from = "/docs/*"
  to = "/:splat"
  status = 200
  
[[redirects]]
  from = "/docs/assets/docs.bundle.js"
  to = "/assets/docs.bundle.js"
  status = 200

# [[plugins]]
#   package = "netlify-plugin-jekyll-cache"

# 	[plugins.inputs]
#   	jekyllSource = "/src"


[[headers]]
  # Define which paths this specific [[headers]] block will cover.
  for = "/*"
    [headers.values]
    Access-Control-Allow-Origin = "*"