
{% assign currentSlug = page.url | split: "/" | last %}
{% assign currentId = page.id %}
{% if page.private %}
{% assign currentIntegration = site.data.catalog.destinations_private.items | where: "id", currentId | first %}

{% elsif page.id %}
{% assign currentIntegration = site.data.catalog.destinations.items | where: "id", currentId | first %}

{% else %}
{% assign currentIntegration = site.data.catalog.destinations.items | where: "slug", currentSlug | first %}
{% endif %}
{% assign conn = include.settings %}

{% assign connectionModes = currentIntegration.connection_modes %}
{% assign settings = currentIntegration.settings %}
{% assign actions = currentIntegration.actions %}
{% assign presets = currentIntegration.presets %}
{% assign hiddenActions = page.hide_action | map: "id"%}


{% if settings.size > 0 %}
## Destination Settings

<table >
  <thead>
    <tr>
      <th>Setting</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
  {% for setting in settings %}
<tr>
<td>{{setting.label}}</td>
<td>{% if setting.required %}<em>Required.</em><br />{%endif%}{{setting.description | markdownify}}</td>
</tr>
{%endfor%}
</tbody>
</table>

{% endif %}


{% if presets.size > 0 %}

## Available Presets

{{currentIntegration.display_name}} has the following presets:


<table>
<thead>
  <tr>
    <th>Preset Name</th>
    <th>Trigger</th>
    <th>Default Action</th>
  </tr>
</thead>
<tbody>
  {% for preset in presets %}
  {% assign triggers = preset.trigger | split: " or" %}
  {% assign id = preset.actionId %}
  {% assign actionName = actions | where: "id", id | first %}
  <tr>
    <td>{{preset.name}}</td>
    <td>{% for trigger in triggers %}Event {{trigger}}<br />{%endfor%}</td>
    <td>{{actionName.name}}</td>
  </tr>
  {% endfor %}
</tbody>

</table>


{% endif %}


## Available Actions

<!-- IG 10/2023 - The customer success engineers wanted to add this note due to some breaking changes. Originally made in PR #5387 -->

{% if currentIntegration.id == '63ed446fe60a1b56c5e6f130' %}
  <div class="premonition warning">
    <div class="fa fa-check-square"></div>
    <div class="content">
      <p class="header">Required fields may have changed</p>
      <p markdown=1>
        View the [Google Analytics documentation](https://developers.google.com/analytics/devguides/collection/ga4/reference/events?client_type=gtag#purchase){:target="_blank"} for the most up-to-date list of required fields.
      </p>
    </div>
  </div>

{% endif %}

Build your own Mappings. Combine supported [triggers](/docs/connections/destinations/actions/#components-of-a-destination-action) with the following {{currentIntegration.display_name | remove: " (Actions)"}}-supported actions:

<div class="premonition info">
  <div class="fa fa-info-circle"></div>
  <div class="content">
    <p class="header">Mapping limits per destination</p>
    <p>Individual destination instances have support a maximum of 50 mappings.</p>
  </div>
</div>

{% for action in actions %}
{% unless hiddenActions contains action.id %}
- [{{action.name}}](#{{action.name | slugify}})
{% endunless %}
{% endfor %}

{% for action in actions %}
{% unless hiddenActions contains action.id %}
### {{action.name}}
<p>{{action.description | markdownify}}</p>
<p>{{action.name}} is a <strong>{{action.platform | capitalize}}</strong> action. {% if action.defaultTrigger %}The default Trigger is: <code>{{action.defaultTrigger}}</code> {%endif%}</p>

<!--- IG 7/2024 - CSE requested this note, as customers were confused about why some required fields didn't appear in the in-app LaunchDarkly Audiences mappings -->

{% if action.id == 'aPAULh8sgt5bcTeXJuXTB6' %}
  <div class="premonition info">
    <div class="fa fa-check-circle"></div>
    <div class="content">
      <p class="header">Segment automatically maps Audience ID and Audience Key fields</p>
      <p markdown=1>
        Segment hides these two fields from the UI to avoid user error, as these fields remain static in Engage. Audience ID defaults to `property : context.personas.computation_id` and Audience Key defaults to `property : context.personas.computation_key`.
      </p>
    </div>
  </div>
{% endif %}

<!--- IG 9/2024 - PM wanted to call out that this specific HubSpot Cloud (Actions) Action can make multiple assosciations-->

{% if action.id == 'dMYued7r3VjK4c2gBWUTZi' %}
<div class="premonition info">
  <div class="fa fa-check-circle"></div>
  <div class="content">
    <p class="header">You can use the Custom Object v2 Action to make multiple assosciations</p>
    <p markdown=1>
       For more information, see HubSpot's [Associate records](https://knowledge.hubspot.com/records/associate-records){:target="_blank‚Äù} documentation.
    </p>
  </div>
</div>
{% endif %}

{% if action.fields.size > 0 %}
<p class="button button-hollow" data-toggle="collapse" data-target=".settings-content-{{action.slug}}">Click to show / hide fields</p>
<div class="collapse settings-content-{{action.slug}} show">
<table id="settingsTable">
  <thead>
    <tr>
      <th>Field</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
{% for field in action.fields %}{% unless field.id == 'jYj1UxYzS5aJNU2Ue2gakK' or field.id == '2KMUXqzqudDytGbcBz2iwP' or field.id == '6VBmtsRbVxHVM61LtnFVwX' or field.id == 'q6eYyJGaCYcPSHeZPpaK5x' %}
<tr>
<td>{{field.label}}{% if field.required %}<span class="required" title="This field is required">*</span>{% endif %}</td>
<td>{% if field.type %}Type: <code>{{field.type}}</code><br />{%endif%}{{field.description | markdownify}}</td>
</tr>
{%endunless%}{%endfor%}
</tbody>
</table>
</div>

{% if include.section1 == action.slug %}
{{include.content1}}
{% endif %}
{% if include.section2 == action.slug %}
{{include.content2}}
{% endif %}
{% if include.section3 == action.slug %}
{{include.content3}}
{% endif %}

{% else %}
This action does not have any fields.
{% endif %}
{% endunless %}
{% endfor %}

