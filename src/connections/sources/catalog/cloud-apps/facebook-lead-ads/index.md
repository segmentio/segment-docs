---
title: Facebook Lead Ads Source
rewrite: true
strat: facebook
beta: true
id: ODf0vA6dcH
---
{% include content/source-region-unsupported.md %}

Facebook Lead Ads help you capture contact information from people who have expressed interest in your product. Without leaving Facebook's interface, your prospects can now share helpful information with you including work email, name, phone number, and more. Learn more about Facebook Lead Ads [here](https://www.facebook.com/business/news/lead-ads-launch). 

Segment lets you make the most of your leads by automatically sending them to your business tools like CRM and email. Importantly, these destinations allow you to contact customers in real-time using your communication platform of choice, whether you've promised them a demo, a newsletter, a piece of content, or a call from a salesperson.

{% include content/beta-note.md %}


## Getting Started

1. Set up a Facebook Lead Ad campaign if you haven't already. Instructions on how to do so are [here](https://www.facebook.com/business/help/1462876307360828).
2. Search for "Facebook Lead Ads" within the Sources Catalog and confirm by clicking "Connect"
3. Give the source a name. The name is a label used in the Segment interface, and Segment creates a related schema name which you query against in your warehouse. The nickname can be whatever you like, but we recommend sticking to something that reflects the source itself, like Facebook Lead Ads or Facebook Lead Ads Prod. 
4. Click Create And Continue then Connect to OAuth into Facebook.
5. Select which accounts you would like to sync (you may change this selection later).
6. Verify that your leads are now flowing into Segment. You can quickly test this connection by sending a test lead to Segment with Facebook's [Lead Ad testing tool](https://developers.facebook.com/tools/lead-ads-testing).
7. Click on the Debugger to see a live stream of data coming in from Facebook. You should see your leads come in as Identify calls.

### Permissions
**Setup**
Use the following permissions to access the page and lead information for enrichment purposes with Facebook lead ads. You must have the following permissions to set this source up:
- pages_show_list
- pages_read_engagement
- pages_manage_ads 
- leads_retrieval
- ads_management
Learn more about permissions [here] (https://developers.facebook.com/docs/marketing-api/guides/lead-ads/retrieving){:target="_blank"}.
**Use**
Leads Access Permissions are required to retrieve leads generated by Facebook Lead Ads. This is the default permissions for most roles. Learn more about permissions by [following this link](https://www.facebook.com/business/help/1440176552713521){:target="_blank"}.

## Components

**Stream**

Facebook Lead Ads uses our stream Source component to send events to Segment. These events are then available in any destination that accepts server-side events, including your data warehouse.

## Events

Below is a table of events that Facebook Lead Ads sends to Segment. These events will show up as tables in your Warehouse, and as regular events in your other destinations.

<table>
  <tr>
    <td>**Event Name**</td>
    <td>**Description**</td>
  </tr>
  <tr>
    <td>Identify</td>
    <td>When a Facebook user clicks on your Lead Ad and fills out your form, Segment will fire an identify call with the user's Anonymous ID and any other traits from the form.</td>
  </tr>
</table>

## Event Properties

The event properties included in the identify calls are dependent on the fields included in your Lead Ads form. When the user submits the form, an identify call is made. From the Segment Debugger, you can look at the raw code from the identify call.

See the example below:

```js
{
 "anonymousId":"254875448264245",
 "messageId":"fb_leadads-MND7ItD0c2-254875448264245",
 "timestamp":"2016-12-08T16:39:58.000Z",
 "traits": {
   "adId": 6052204319312,
   "email":"-----------@example.com",
   "formId": 225571381194652,
   "First_Name":"------------",
   "Last_Name":"------------",
   "job_title":"warehouse",
   "work_email":"----------@example.com"
  },
 "type":"identify",
 "writeKey":"-------------------",
 "context": {
   "integration": {
     "name":"facebook-lead-ads",
     "version":"0.0.3"
    },
   "library": {
     "name":"unknown",
     "version":"unknown"
    }
  },
 "integrations": {},
 "receivedAt":"2016-12-08T16:40:05.490Z",
 "originalTimestamp":"2016-12-08T16:39:58.000Z"
}
```

## Adding Destinations

Now that your Source is set up, you can connect it with destinations. 

Only the destinations listed below can be used with Facebook Lead Ads. Facebook only passes an email address as a customer identifier, but not all destinations can use an email address instead of a User ID.  

Destinations that can be used with the Facebook Lead Ads Source:

*CRM*
- Salesforce
- Freshsales

*Email Marketing*
- Mailchimp
- Marketo
- Eloqua
- AutopilotHQ
- Mailjet
- ActiveCampaign
- Seg
- Drip
- Pardot

*Live Chat*
- Intercom

*Analytics*
- Hubspot
- Woopra

*SMS and Push Notifications*
- Iterable

*Customer Success*
- HelpScout
- Natero
- Zendesk

*Enrichment*
- Clearbit
- Madkudu

Log into your downstream tools and check that your events are populating, and contain all of the properties you expect. If all your events and properties are not showing up, refer to the [Destination docs](https://segment.com/docs/connections/destinations/) for troubleshooting.


## Troubleshooting

### No Data After Updating Credentials

When you update or change credentials on a connected account, you need to create a new Facebook Lead Ads source to reauthorize Facebook. Reauthorization implies that a new token is generated, but the token is not the only link between Segment and Facebook. 

When you connect the Facebook Leads Ads source, a Segment application is installed on the connected Facebook account. If you were to generate a new token on the same source, it would invalidate all other tokens attached to that Facebook account.

For example, if you have a Facebook Account with three accounts: Account A, Account B, and Account C, you can connect Segment to all of them and then generate a token for each account. Later on, if you need to reauthorize the "Account A" page, the tokens for Account B and Account C are invalidated, and the pages stop working.
